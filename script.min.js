(function(){const B=document.currentScript;const e=B.dataset.o;if(!e){console.error("Form ID is required. Please add the data-form-id attribute to the script tag.");return}const o={o:e,t:B.dataset.t||"floating",i:B.dataset.i||"https://formaxs.com",l:B.dataset.l,u:B.dataset.u==="true",m:(B.dataset?.label||"").trim(),p:B.dataset.p||"500px",g:B.dataset.buttonBgColor||"#007bff",h:B.dataset.h||"#fff",k:B.dataset.k||"#fff",v:B.dataset.v||"#000",I:parseInt(B.dataset.I||0),C:parseInt(B.dataset.C||1),margin:B.dataset.margin||"0 auto",T:B.dataset.iconHtml||'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>',$:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'};o.j=`${o.i}/form/${o.o}?embed=1`;function t(e){const{o,t,j:n,p:i,u:a,m:s,k:l,v:d,g:c,h:f,l:u,I:m,C:p,margin:r,T:x,$:g}=e;const h=document.createElement("iframe");h.src=n;h.id=`formaxs-frame-${o}`;h.setAttribute("frameborder","0");h.setAttribute("allowtransparency","true");h.setAttribute("scrolling","no");h.setAttribute("importance","high");h.setAttribute("fetchpriority","high");window.addEventListener("message",function(e){if(e.data.type===`formaxs-height-${o}`){h.style.height=e.data.height+"px"}},false);if(t==="floating"){function b(e,o){Object.assign(e.style,o)}const v=document.createElement("div");v.id=`formaxs-widget-button-${o}`;const I=document.createElement("div");I.innerHTML=x;b(I,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"});if(s){const $=document.createElement("span");$.innerText=s;b($,{background:l,color:d,padding:"3px 12px",borderRadius:"8px",position:"absolute",top:"-70%",right:"0",fontSize:"13px",fontWeight:"400",display:"flex",width:"max-content",boxShadow:"1px 2px 6px rgba(0,0,0,0.1)",transition:"opacity 0.3s ease",pointerEvents:"none"});v.appendChild($)}v.appendChild(I);b(v,{width:"60px",height:"60px",borderRadius:"30px",background:c,color:f,position:"fixed",bottom:"20px",right:"20px",zIndex:"9999999999999",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",transition:"transform 0.2s ease",overflow:"visible"});const C=document.createElement("div");C.id=`formaxs-modal-${o}`;b(C,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"999999999999999",display:"none",alignItems:"center",justifyContent:"center",...a?{backgroundColor:"rgba(0, 0, 0, 0.4)"}:{}});const T=document.createElement("div");b(T,{background:"transparent",maxWidth:i,width:"100%",maxHeight:"98vh",position:"relative",...a?{}:{boxShadow:"1px 4px 15px rgba(0,0,0,0.2)"},overflowY:"auto",borderRadius:"8px"});b(h,{width:"100%",border:"none",borderRadius:"8px",display:"block",background:"transparent"});T.appendChild(h);C.appendChild(T);let r=false;function w(){C.style.display="flex";T.style.transform="scale(0.9)";T.style.opacity="0";setTimeout(()=>{T.style.transition="transform 0.3s ease, opacity 0.3s ease";T.style.transform="scale(1)";T.style.opacity="1"},10);r=true;I.innerHTML=g}function y(){T.style.transform="scale(0.9)";T.style.opacity="0";setTimeout(()=>{C.style.display="none";T.style.transition=""},300);r=false;I.innerHTML=x}function k(){if(r){y()}else{w()}}document.body.appendChild(C);if(u==="button"){document.body.appendChild(v);v.addEventListener("click",k)}else if(u==="load"){if(document.readyState==="complete"){w()}else{window.addEventListener("load",w)}}else if(u==="scroll"){let n=false;window.addEventListener("scroll",function(){if(r||n)return;const e=window.pageYOffset||document.documentElement.scrollTop;const o=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(o===0){if(m===0&&!n){w();n=true}return}const t=e/o*100;if(t>=m){w();n=true}})}else if(u==="time"){if(p>0){setTimeout(()=>{if(!r)w()},p*1e3)}else{if(!r)w()}}document.addEventListener("keydown",e=>{if(e.key==="Escape"&&C.style.display==="flex"){y()}})}else if(t==="standard"){const j=document.createElement("div");j.id=`formaxs-container-${o}`;Object.assign(j.style,{width:"100%",maxWidth:i,margin:r,padding:"0",display:"block"});Object.assign(h.style,{width:"100%",border:"none",outline:"none",overflow:"hidden",display:"block",margin:"0",padding:"0",background:"transparent"});j.appendChild(h);const M=document.getElementById(`formaxs-script-${o}`);let e=M||B;console.log({M:M,B:B});e.parentNode.insertBefore(j,e)}else{console.error(`Formaxs: Invalid embedMode "${t}" specified.`)}}t(o)})();